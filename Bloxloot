local repo = 'https://raw.githubusercontent.com/mstudio45/LinoriaLib/main/'

local Library = loadstring(game:HttpGet(repo .. 'Library.lua'))()
local ThemeManager = loadstring(game:HttpGet(repo .. 'addons/ThemeManager.lua'))()
local SaveManager = loadstring(game:HttpGet(repo .. 'addons/SaveManager.lua'))()
local Options = Library.Options
local Toggles = Library.Toggles

Library.ShowToggleFrameInKeybinds = true
Library.ShowCustomCursor = true
Library.NotifySide = "Right"

local Window = Library:CreateWindow({
	Title = '[V4] BLOXLOOT 🗡️',
	Center = true,
	AutoShow = true,
	Resizable = true,
	ShowCustomCursor = true,
	UnlockMouseWhileOpen = true,
	NotifySide = "Right",
	TabPadding = 8,
	MenuFadeTime = 0
})

local Main = Window:AddTab("Main")
local RaidBoss = Main:AddLeftGroupbox('Raid Boss')

local NormalGravity = workspace.Gravity
RaidBoss:AddToggle('AutoSheep',{
	Text = 'Auto Sheep',
	Default = false,
	Callback = function(v)
_G.FarmSheep = v
game:GetService("RunService").RenderStepped:Connect(function()
if _G.FarmSheep then
if workspace.World1.Part1.EnemySpawnPoints:FindFirstChild("1_1_3"):FindFirstChild("1_1_3") and workspace.World1.Part1.EnemySpawnPoints:FindFirstChild("1_1_3"):FindFirstChild("1_1_3"):FindFirstChild("Humanoid").Health > 0 then
workspace.Gravity = 0
game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = workspace.World1.Part1.EnemySpawnPoints["1_1_3"]["1_1_3"].Torso.CFrame
for _,v in ipairs(workspace.Runtime.LootPoints:GetChildren()) do
if v.Parent.Name == "LootPoints" and v and v:FindFirstChild("BasePart") and (v.BasePart.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude < 100 then
fireproximityprompt(v.BasePart.ProximityPrompt)
game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = v["BasePart"].CFrame
end
end
else
workspace.Gravity = NormalGravity
end
else
workspace.Gravity = NormalGravity
end
end)
end})
RaidBoss:AddToggle('AutoKingZombie',{
	Text = 'Auto King Zombie',
	Default = false,
	Callback = function(v)
_G.FarmKingZombie = v
game:GetService("RunService").RenderStepped:Connect(function()
if _G.FarmKingZombie then
if workspace.World1.Part1.EnemySpawnPoints:FindFirstChild("1_1_7"):FindFirstChild("1_1_7") and workspace.World1.Part1.EnemySpawnPoints:FindFirstChild("1_1_7"):FindFirstChild("1_1_7"):FindFirstChild("Humanoid").Health > 0 then
workspace.Gravity = 0
game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = workspace.World1.Part1.EnemySpawnPoints["1_1_7"]["1_1_7"].Torso.CFrame
for _,v in ipairs(workspace.Runtime.LootPoints:GetChildren()) do
if v.Parent.Name == "LootPoints" and v and v:FindFirstChild("BasePart") and (v.BasePart.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude < 100 then
fireproximityprompt(v.BasePart.ProximityPrompt)
game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = v["BasePart"].CFrame
end
end
else
workspace.Gravity = NormalGravity
end
else
workspace.Gravity = NormalGravity
end
end)
end})
RaidBoss:AddToggle('AutoKingSkeleton',{
	Text = 'Auto King Skeleton',
	Default = false,
	Callback = function(v)
_G.FarmKingSkeleton = v
game:GetService("RunService").RenderStepped:Connect(function()
if _G.FarmKingSkeleton then
if workspace.World1.EnemySpawnPools["1"]:FindFirstChild("1_2_100"):FindFirstChild("1_2_100") and workspace.World1.EnemySpawnPools["1"]:FindFirstChild("1_2_100"):FindFirstChild("1_2_100"):FindFirstChild("Humanoid").Health > 0 then
workspace.Gravity = 0
game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = workspace.World1.EnemySpawnPools["1"]["1_2_100"]["1_2_100"].Torso.CFrame
for _,v in ipairs(workspace.Runtime.LootPoints:GetChildren()) do
if v.Parent.Name == "LootPoints" and v and v:FindFirstChild("BasePart") and (v.BasePart.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude < 100 then
fireproximityprompt(v.BasePart.ProximityPrompt)
game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = v["BasePart"].CFrame
end
end
else
workspace.Gravity = NormalGravity
end
else
workspace.Gravity = NormalGravity
end
end)
end})
RaidBoss:AddToggle('AutoSpiderQueen',{
	Text = 'Auto Spider Queen',
	Default = false,
	Callback = function(v)
_G.FarmSpiderQueen = v
game:GetService("RunService").RenderStepped:Connect(function()
if _G.FarmSpiderQueen then
if workspace.World1.EnemySpawnPools["1"]:FindFirstChild("1_2_101"):FindFirstChild("1_2_101") and workspace.World1.EnemySpawnPools["1"]:FindFirstChild("1_2_101"):FindFirstChild("1_2_101"):FindFirstChild("Humanoid").Health > 0 then
workspace.Gravity = 0
game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = workspace.World1.EnemySpawnPools["1"]["1_2_101"]["1_2_101"].Torso.CFrame
for _,v in ipairs(workspace.Runtime.LootPoints:GetChildren()) do
if v.Parent.Name == "LootPoints" and v and v:FindFirstChild("BasePart") and (v.BasePart.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude < 100 then
fireproximityprompt(v.BasePart.ProximityPrompt)
game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = v["BasePart"].CFrame
end
end
else
workspace.Gravity = NormalGravity
end
else
workspace.Gravity = NormalGravity
end
end)
end})

local Server = Main:AddLeftGroupbox('Server')
Server:AddToggle('AutoServerHop',{
	Text = 'Auto Server Hop',
	Default = false,
	Callback = function(v)
_G.AutoServerHop = v
while _G.AutoServerHop do
local Player = game.Players.LocalPlayer    
local Http = game:GetService("HttpService")
local TPS = game:GetService("TeleportService")
local Api = "https://games.roblox.com/v1/games/"

local _place,_id = game.PlaceId, game.JobId
-- Asc for lowest player count, Desc for highest player count
local _servers = Api.._place.."/servers/Public?sortOrder=Asc&limit=10"
function ListServers(cursor)
   local Raw = game:HttpGet(_servers .. ((cursor and "&cursor="..cursor) or ""))
   return Http:JSONDecode(Raw)
end
-- choose a random server and join every 2 minutes
   --freeze player before teleporting to prevent synapse crash?
   local Servers = ListServers()
   local Server = Servers.data[math.random(1,#Servers.data)]
   TPS:TeleportToPlaceInstance(_place, Server.id, Player)
wait(1.5)
end
end})
Server:AddButton({
Text = "Server Hop",
DoubleClick = true,
Func = function()
local Player = game.Players.LocalPlayer    
local Http = game:GetService("HttpService")
local TPS = game:GetService("TeleportService")
local Api = "https://games.roblox.com/v1/games/"

local _place,_id = game.PlaceId, game.JobId
-- Asc for lowest player count, Desc for highest player count
local _servers = Api.._place.."/servers/Public?sortOrder=Asc&limit=10"
function ListServers(cursor)
   local Raw = game:HttpGet(_servers .. ((cursor and "&cursor="..cursor) or ""))
   return Http:JSONDecode(Raw)
end
-- choose a random server and join every 2 minutes
   --freeze player before teleporting to prevent synapse crash?
   local Servers = ListServers()
   local Server = Servers.data[math.random(1,#Servers.data)]
   TPS:TeleportToPlaceInstance(_place, Server.id, Player)
end})

local Players = Main:AddRightGroupbox('Players')
Players:AddSlider('Speed',{
	Text = 'Speed',
	Default = 20,
	Min = 20,
	Max = 100,
	Rounding = 1,
	Compact = false,
	Callback = function(v)
_G.SetWalkSpeed = v
end})
Players:AddToggle('LoopSpeed',{
	Text = 'Loop Speed',
	Default = false,
	Callback = function(v)
_G.WalkSpeed = v
game:GetService("RunService").RenderStepped:Connect(function()
if _G.WalkSpeed then
game.Players.LocalPlayer.Character.Humanoid.WalkSpeed = _G.SetWalkSpeed or 20
end
end)
end})
Players:AddSlider('FOV',{
	Text = 'FOV',
	Default = 70,
	Min = 70,
	Max = 120,
	Rounding = 1,
	Compact = false,
	Callback = function(v)
_G.SetFOV = v
end})
Players:AddToggle('LoopFOV',{
	Text = 'Loop FOV',
	Default = false,
	Callback = function(v)
_G.FOV = v
game:GetService("RunService").RenderStepped:Connect(function()
if _G.FOV then
workspace.CurrentCamera.FieldOfView = _G.SetFOV or 70
end
end)
end})
Players:AddDivider()
Players:AddToggle('InfJump',{
	Text = 'Infinite Jump',
	Default = false,
	Callback = function(v)
_G.InfiniteJump = true
game:GetService("UserInputService").JumpRequest:connect(function()
if _G.InfiniteJump then
game:GetService"Players".LocalPlayer.Character:FindFirstChildOfClass'Humanoid':ChangeState("Jumping")
end
end)
end})
local Miscellaneous = Main:AddRightGroupbox('Miscellaneous')
Miscellaneous:AddToggle('HitboxEnemies',{
	Text = 'Hitbox Enemies',
	Default = false,
	Callback = function(v)
if v then
for _,v in pairs(workspace.World1:GetDescendants()) do
if v.Name == "HumanoidRootPart" then
v.Size = Vector3.new(100,100,100)
v.CanCollide = false
elseif v.Name == "RootPart" then
v.Size = Vector3.new(100,100,100)
v.CanCollide = false
end
end
HitboxEnemies = workspace.World1.DescendantAdded:Connect(function(v)
if v.Name == "HumanoidRootPart" then
v.Size = Vector3.new(100,100,100)
v.CanCollide = false
elseif v.Name == "RootPart" then
v.Size = Vector3.new(100,100,100)
v.CanCollide = false
end
end)
else
HitboxEnemies:Disconnect()
for _,v in pairs(workspace.World1:GetDescendants()) do
if v.Name == "HumanoidRootPart" then
v.Size = Vector3.new(3,3,3)
v.CanCollide = false
elseif v.Name == "RootPart" then
v.Size = Vector3.new(3,3,3)
v.CanCollide = false
end
end
end
end})
Miscellaneous:AddToggle('HitboxPlayers',{
	Text = 'Hitbox Players',
	Default = false,
	Callback = function(v)
_G.HitboxPlayers = v
game:GetService("RunService").RenderStepped:Connect(function()
if _G.HitboxPlayers then
for _, otherPlayer in pairs(game.Players:GetPlayers()) do
if otherPlayer ~= game.Players.LocalPlayer and otherPlayer.Character and otherPlayer.Character:FindFirstChild("HumanoidRootPart") then
otherPlayer.Character.HumanoidRootPart.Size = Vector3.new(70,70,70)
end
end
else
for _, otherPlayer in pairs(game.Players:GetPlayers()) do
if otherPlayer ~= game.Players.LocalPlayer and otherPlayer.Character and otherPlayer.Character:FindFirstChild("HumanoidRootPart") then
otherPlayer.Character.HumanoidRootPart.Size = Vector3.new(3,3,3)
end
end
end
end)
end})
Miscellaneous:AddDivider()
Miscellaneous:AddToggle('AutoClaimItems',{
	Text = 'Auto Claim Items',
	Default = false,
	Callback = function(v)
_G.AutoClaimItems = v
game:GetService("RunService").RenderStepped:Connect(function()
if _G.AutoClaimItems then
for _,v in ipairs(workspace.Runtime.LootPoints:GetChildren()) do
if v.Parent.Name == "LootPoints" and v and v:FindFirstChild("BasePart") then
fireproximityprompt(v.BasePart.ProximityPrompt)
end
end
end
end)
end})

Library:SetWatermarkVisibility(true)
local FrameTimer = tick()
local FrameCounter = 0;
local FPS = 60;

local WatermarkConnection = game:GetService('RunService').RenderStepped:Connect(function()
	FrameCounter += 1;

	if (tick() - FrameTimer) >= 1 then
		FPS = FrameCounter;
		FrameTimer = tick();
		FrameCounter = 0;
	end;

	Library:SetWatermark(('FPS : %s | PING : %s'):format(
		math.floor(FPS),
		math.floor(game:GetService('Stats').Network.ServerStatsItem['Data Ping']:GetValue())
	));
end);

Library:OnUnload(function()
	WatermarkConnection:Disconnect()
	Library.Unloaded = true
end)

local Tabs = {
['UI Settings'] = Window:AddTab('Config')
}
local MenuGroup = Tabs['UI Settings']:AddLeftGroupbox('Menu')

MenuGroup:AddToggle("KeybindMenuOpen", { Default = Library.KeybindFrame.Visible, Text = "Open Keybind Menu", Callback = function(value) Library.KeybindFrame.Visible = value end})
MenuGroup:AddToggle("ShowCustomCursor", {Text = "Custom Cursor", Default = true, Callback = function(Value) Library.ShowCustomCursor = Value end})
MenuGroup:AddDivider()
MenuGroup:AddLabel("Menu bind"):AddKeyPicker("MenuKeybind", { Default = "RightShift", NoUI = true, Text = "Menu keybind" })
MenuGroup:AddButton("Unload", function() Library:Unload() end)

Library.ToggleKeybind = Options.MenuKeybind -- Allows you to have a custom keybind for the menu

-- Addons:
-- SaveManager (Allows you to have a configuration system)
-- ThemeManager (Allows you to have a menu theme system)

-- Hand the library over to our managers
ThemeManager:SetLibrary(Library)
SaveManager:SetLibrary(Library)

-- Ignore keys that are used by ThemeManager.
-- (we dont want configs to save themes, do we?)
SaveManager:IgnoreThemeSettings()

-- Adds our MenuKeybind to the ignore list
-- (do you want each config to have a different menu key? probably not.)
SaveManager:SetIgnoreIndexes({ 'MenuKeybind' })

-- use case for doing it this way:
-- a script hub could have themes in a global folder
-- and game configs in a separate folder per game
ThemeManager:SetFolder('MyScriptHub')
SaveManager:SetFolder('MyScriptHub/specific-game')
SaveManager:SetSubFolder('specific-place') -- if the game has multiple places inside of it (for example: DOORS) 
					   -- you can use this to save configs for those places separately
					   -- The path in this script would be: MyScriptHub/specific-game/settings/specific-place
					   -- [ This is optional ]

-- Builds our config menu on the right side of our tab
SaveManager:BuildConfigSection(Tabs['UI Settings'])

-- Builds our theme menu (with plenty of built in themes) on the left side
-- NOTE: you can also call ThemeManager:ApplyToGroupbox to add it to a specific groupbox
ThemeManager:ApplyToTab(Tabs['UI Settings'])

-- You can use the SaveManager:LoadAutoloadConfig() to load a config
-- which has been marked to be one that auto loads!
SaveManager:LoadAutoloadConfig()
